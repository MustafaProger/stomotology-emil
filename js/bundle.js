(()=>{"use strict";function e(e){"string"==typeof e&&(e=document.querySelector(e)),e?function(e){const t=e.querySelectorAll(".label"),n=e.querySelectorAll(".label-comments"),o=e.querySelectorAll(".inputs-field input"),c=e.querySelectorAll("textarea");function r(e,t,n,o,c){const r=n[t];r?e?(r.style.fontSize="0.8rem",r.style.top=`${o}px`,r.style.transform=`translateY(-${c}%)`):(r.style.fontSize="",r.style.top="",r.style.transform=""):console.error(`Label not found for index: ${t}`)}o.forEach(((e,n)=>{e.addEventListener("input",(()=>r(""!==e.value.trim(),n,t,10,150)))})),c.forEach(((e,t)=>{e.addEventListener("input",(()=>r(""!==e.value.trim(),t,n,16.67,250)))}))}(e):console.error("Элемент формы не найден.")}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),o=document.getElementById(n);if(o){const c=o.getBoundingClientRect().top+window.pageYOffset,r=window.pageYOffset,l=c-r-140,s=1e3;let i=null;function a(e){null===i&&(i=e);const t=e-i,n=(o=t,c=r,d=l,(o/=s/2)<1?d/2*o*o+c:-d/2*(--o*(o-2)-1)+c);var o,c,d;window.scrollTo(0,n),t<s&&requestAnimationFrame(a)}requestAnimationFrame(a)}}))})),function(){const e=document.querySelector(".header__burger"),t=document.querySelector(".nav"),n=document.querySelectorAll(".list__item");e.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active"),document.body.classList.toggle("lock"),n.forEach((e=>{e.classList.toggle("fade-down")}))}))}(),function({trackSelector:e,slideselector:t,buttonselector:n,dotsContainerelector:o,dotselector:c}){const r=document.querySelector(e),l=document.querySelectorAll(t),s=document.querySelectorAll(n),i=document.querySelector(o),a=document.querySelectorAll(c);let d=0;const u=l.length,m=a.length,f=document.createElement("div");f.id="active-dot",i.appendChild(f);let y=0,p=!1;function h(){l.forEach((e=>e.classList.remove("active","prev","next")));const e=0===d?u-1:d-1,t=d===u-1?0:d+1;l[d].classList.add("active"),l[e].classList.add("prev"),l[t].classList.add("next")}function g(e){const t=e%m,n=a[t].offsetLeft;f.style.transform=`translateX(${n}px)`,a.forEach((e=>e.classList.remove("active"))),a[t].classList.add("active")}function v(){d=d<u-1?d+1:0,h(),g(d)}function L(){d=d>0?d-1:u-1,h(),g(d)}a.forEach(((e,t)=>{e.addEventListener("click",(()=>{d=t,h(),g(d)}))})),s.forEach(((e,t)=>{e.addEventListener("click",(()=>{0===t?L():v()}))})),document.addEventListener("keydown",(e=>{(function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)})(r)&&("ArrowLeft"===e.key?L():"ArrowRight"===e.key&&v())})),r.addEventListener("touchstart",(e=>{y=e.touches[0].clientX,p=!0})),r.addEventListener("touchmove",(e=>{if(!p)return;const t=e.touches[0].clientX,n=y-t;n>50?(v(),p=!1):n<-50&&(L(),p=!1)})),r.addEventListener("touchend",(()=>{p=!1})),h()}({trackSelector:".about__blocks",slideselector:".about__block",buttonselector:".button",dotsContainerelector:".dots-container",dotselector:".dot"}),document.querySelectorAll(".flip-btn").forEach((e=>{e.addEventListener("click",(function(){this.closest(".service-card-inner").classList.add("flipped")}))})),document.querySelectorAll(".flip-back-btn").forEach((e=>{e.addEventListener("click",(function(){this.closest(".service-card-inner").classList.remove("flipped")}))})),function(){function e(e,t){"input"!==e.type?t.classList.remove("image-comparison__range--active"):t.classList.add("image-comparison__range--active")}function t(e,t,n){let o=e.layerY-20;e.layerY<=t.offsetTop&&(o=-20),e.layerY>=t.offsetHeight&&(o=t.offsetHeight-20),n.style.top=`${o}px`}function n(n,o){const c=n.target.value,r=o.querySelector("[data-image-comparison-slider]"),l=o.querySelector("[data-image-comparison-overlay]"),s=o.querySelector("[data-image-comparison-thumb]");r.style.left=`${c}%`,l.style.width=`${c}%`,t(n,r.parentElement,s),e(n,o.querySelector("[data-image-comparison-range]"))}document.querySelectorAll(".image-comparison__slider-wrapper").forEach((o=>function(o){const c=o.querySelector("[data-image-comparison-range]"),r=o.querySelector("[data-image-comparison-thumb]");if("ontouchstart"in window==0){function l(e){t(e,c,r)}c.addEventListener("mouseup",(t=>e(t,c))),c.addEventListener("mousedown",(e=>{t(e,c,r),o.addEventListener("mousemove",l)})),c.addEventListener("mouseup",(()=>{o.removeEventListener("mousemove",l)}))}c.addEventListener("input",(e=>n(e,o))),c.addEventListener("change",(e=>n(e,o)))}(o)))}(),function(){const e=document.querySelector(".feedback__blocks-wrapper"),t=document.querySelector(".feedback__blocks-inner"),n=document.querySelectorAll(".feedback__block"),o=window.getComputedStyle(e).width;let c=0,r=1;function l(e){c=+o.slice(0,o.length-2)*(e-1),t.style.transform=`translateX(-${c}px)`,a()}t.style.width=100*n.length+"%",document.addEventListener("keydown",(t=>{(function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)})(e)&&("ArrowLeft"===t.key?(0==c?(c=+o.slice(0,o.length-2)*(n.length-1),r=n.length):(c-=+o.slice(0,o.length-2),r--),l(r)):"ArrowRight"===t.key&&(c==+o.slice(0,o.length-2)*(n.length-1)?(c=0,r=1):(c+=+o.slice(0,o.length-2),r++),l(r)))}));const s=document.createElement("ol"),i=[];s.classList.add("carousel-indicators"),e.append(s);for(let e=0;e<n.length;e++){const t=document.createElement("li");t.setAttribute("data-slide-to",e+1),t.classList.add("feedback__dot"),0==e&&(t.style.opacity="1"),s.append(t),i.push(t)}function a(){i.forEach((e=>{e.style.backgroundColor="#fff"})),i[r-1].style.backgroundColor="#00B5E2"}i.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-slide-to");r=t,l(r)}))})),a()}(),document.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.addEventListener("change",(()=>{e.checked?e.classList.add("success"):e.classList.remove("success")}))})),e(".form"),e("#modal1"),e("#modal2"),function(){function e(e,t){e.addEventListener("submit",(async n=>{n.preventDefault();let o=function(e,t,n,o,c){const r=e.querySelector(t),l=e.querySelector(n),s=e.querySelector(o),i=e.querySelectorAll(c);let a=!0,{name:d,phone:u,service:m}={name:{required:"Введите имя пользователя",minLength:"Введите не менее 2 символов",correct:"Имя не должно содержать цифр"},phone:{required:"Введите номер телефона",minLength:"Введите не менее 11 символов",correct:"Номер не должен содержать буквы"},service:{required:"Выберите услугу"}};return f(r,"name",2,/\d/,d),f(l,"phone",11,/\D/,u),function(e){function t(e){e.classList.remove("error"),e.classList.add("success")}function n(e){e.classList.remove("success"),e.classList.add("error")}e.forEach((e=>{e.checked?(t(e),a=!0):(n(e),a=!1),e.addEventListener("change",(()=>{e.checked?(t(e),a=!0):(n(e),a=!0)}))}))}(i),s&&f(s,"service",1,null,m),a;function f(t,n,o,c,r){!function(t,n){let o=e.querySelector(`.${n}__error`);o||(o=document.createElement("span"),o.classList.add("error",`${n}__error`),o.style.display="none",t.insertAdjacentElement("afterend",o))}(t,n);const l=e.querySelector(`.${n}__error`),s=()=>{!function(e,t,n,o,c){""===e.value.trim()?(t.innerHTML=c.required,t.style.display="block",a=!1):o&&o.test(e.value)?(t.innerHTML=c.correct,t.style.display="block",a=!1):e.value.length<n?(t.innerHTML=c.minLength,t.style.display="block",a=!1):t.style.display="none"}(t,l,o,c,r)};t.removeEventListener("input",s),t.addEventListener("input",s),s()}}(e,".input-name",".input-phone",".input-service",".input-checkbox"),c=new FormData(e);if(o){document.body.classList.add("sending");try{let n=await fetch(`php/php/${t}.php`,{method:"POST",body:c});if(n.ok){let t=await n.json();alert(t.message),e.reset(),e.querySelector('input[type="checkbox"]').classList.remove("success"),document.body.classList.remove("sending"),e.querySelectorAll("label").forEach((e=>{e.style.fontSize="",e.style.top="",e.style.transform=""}))}else alert("Ошибка при отправке данных на сервер.")}catch(e){console.error("Ошибка отправки запроса:",e),alert("Произошла ошибка. Попробуйте снова позже.")}finally{document.body.classList.remove("sending")}}}))}document.querySelectorAll("form").forEach((t=>{t.classList.contains("make_appointment")?e(t,"make_appointment"):t.classList.contains("consultation")&&e(t,"consultation")}))}(),function(){const e=document.querySelectorAll(".btn_for_modal"),t=document.querySelectorAll(".modal");function n(e){e.style.display="none"}e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-target");document.getElementById(t).style.display="flex"}))})),t.forEach((e=>{e.querySelector(".modal__close").addEventListener("click",(()=>n(e)))})),window.addEventListener("click",(function(e){t.forEach((t=>{e.target===t&&n(t)}))}))}()}))})();
//# sourceMappingURL=bundle.js.map